## 클래스와 맴버의 접근권한 최소화하기
---
### 잘 설계된 컴포넌트
- 클래스 내부 데이터와 구현 정보를 외부 컴포넌트로부터 잘 숨김
- 오직 API를 통해서 다른 컴포넌트와 소통
- `정보은닉`, `캡슐화`

### 정보은닉의 장점
- 시스템 개발 속도 향상 (여러 컴포넌트를 병렬로 개발 가능)
- 시스템 관리 비용 낮춤 (컴포넌트 교체에 대한 부담이 적고, 빠르게 컴포넌트를 파악해 디버깅 가능)
- 성능최적화에 도움을 준다 (다른 컴포넌트에 영향 X 해당 컴포넌트만 최적화)
- 재사용성을 높인다 (독자적으로 동작할 수 있는 컴포넌트는 다른 곳에서도 쓰일 수 있음)
- 큰 시스템을 제작하는 난이도를 낮춤 (개발중 개별 컴포넌트 동작을 검증할 수 있음)

> 자바는 정보은닉을 위해 접근 제어자를 통한 접근 허용 범위를 명시한다.
기본적으로 모든 클래스와 맴버(필드, 메소드, 중첩클래스, ... ) 의 접근성은 가능한 좁혀!!

### 클래스에 부여하는 접근 수준
- 톱 레벨 클래스와 인터페이스에는 `public`, `package-private(default)` 만 부여 가능
	`public` : 공개 API가 되어 영원히 관리해줘야 함
    `package-private` : 해당 패키지 안에서만 사용 가능
    외부에서 쓸 이유가 없다면 package-private으로 선언하자
- 한 클래스에서만 사용하는 package-private 톱레밸 클래스나, 인터페이스는 이를 사용하는 클래스 안에 `private static`으로 중첩시키자


### 맴버에 부여하는 접근 수준
- public, protected, package-private, private
- package-private 에서 protected로 변경하면 접근할 수 있는 대상 범위가 넓어진다 => protected 맴버 수는 적을수록 좋다

### 맴버 접근성의 제약
- 리스코프 치환 원칙 (상위 타입의 객체를 하위 타입의 객체로 치환해도 동작에 문제가 없어야 함) 에 의해 상위 클래스의 메소드를 재정의할 경우, 하위 클래스에서는 접근 수준을 상위 보다 좁게 설정할 수 없다.
- 인터페이스를 구현하는 클래스는 모두 public으로 선언해야 함


### public 클래스의 인스턴스 필드
- public 클래스의 인스턴스 필드가 public이면 불변식을 보장할 수 없다.
- ??? <<필드가 final이면서 불변 객체를 참조하더라도 문제가 있다. 내부 구현을 바꾸고 싶어도 public 필드를 없애는 방식으로는 리펙토링을 할 수 없다>> ???
- 꼭 필요한 경우 static final 상수를 public 으로 지정할 수 있다. 이런 필드는 `HELLO_WORLD` 와 같이 대문자와 밑줄로 쓰고 기본 타입 값이나 불변객체를 참조해야 함

- 클래스에서 public static final 배열 필드를 두거나 이 필드를 반환하는 접근자 메서드를 제공해서는 안된다. -> 클라이언트에서 내용 수정 가능해짐
	public 을 private 으로 바꾸고 public 불변 리스트를 추가하거나 복사본을 반환(방어적 복사)하는 메소드를 추가하면 된다.
    


### 테스트를 위한 접근성 확장
테스트만을 위해 private 맴버를 protected, public으로 풀면 안된다. 