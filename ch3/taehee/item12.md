# toString 을 항상 재정의 하라

`Object`의 기본 `toString` 메서드는 단순히 클래스_이름@16진수로_표현한_해시코드를 반환할 뿐입니다.

따라서 Java 문서에서도 명세 되어있듯 재정의를 할 것을 권장합니다.
> `toString`의 일반 규약에 따르면 `toString`메서드는 "간결하면서 사람이 읽기 쉬운 형태의 유익한 정보" 를 반환해야 합니다.
사용자 입장에서나 만든 본인입장에서도 `toString`을 잘 구현한 클래스는 사용하기 편하고 그 시스템은 디버깅하기가 쉽습니다. 

### toString 규약
toString규약은 "모든 하위 클래스에서 이 메서드를 재정의하라"고 합니다.

### toString 재정의 방법

toString은 그 객체가 가진 주요 정보 모두를 반환하는게 좋습니다.
만약 객체가 거대하거나 객체의 상태가 문자열로 표현하기에 적합하지 않다면 스스로를 완벽히 설명하는 요약정보를 담을 수 있게 재정의 해야합니다.

### toString을 구현할 때 반환값의 포맷을 문서화할지 정해야 한다.

포맷을 명시하면 객체는 표준적이고 명확하고 무엇보다 사용하는 사용자가 읽기가 매우 편합니다.
> 만약 포맷을 명시한다면, 아주 정확해야 하며, 포멧에 맞는 문자열과 객체를 상호 전환할 수 있는 정적 팩토리 생성자를 함께 제공해주는것이 좋습니다.
```java
/**
 * 이 전화번호의 문자열을 표현을 반환한다.
 * 이 문자열은 "XXX-YYY-ZZZZ" 형태의 12글자로 구성된다.
 * XXX는 지역 코드, YYY는 프리픽스, ZZZZ는 가입자 번호다.
 * 각각의 대문자는 10진수 숫자 하나를 나타낸다.
 * 
 * 전화번호의 각 부분의 값이 너무 작아서 자릿수를 채울 수 없다면,
 * 앞에서부터 0으로 채워나간다. 예컨대 가입자 번호가 123이라면
 * 전화번호의 마지막 네 문자는 "0123"이 된다.
 */
@Override
public String toString() {
	return String.format("%03d-%03d-%04d",areaCode,prefix,lineNum);
}
```
- 위 코드에 예시처럼 포맷을 정확하게 작성해야 합니다.

포맷을 명시하던 아니던 의도는 명확히 밝혀야 합니다.
```java
/**
 * 이 약물에 관한 대략적인 설명을 반환한다.
 * 다음은 이 설명의 일반적인 형태이나,
 * 상세 형식은 정해지지 않았으며 향후 변경 될 수 있다.
 * 
 * "{약물 #9: 유형=사랑, 냄새=테레빈유, 겉모습=먹물}"
 */
public String toString() {
    ...	
}
```
- 포맷은 없지만, 어떤 값들을 보여줘야하는지 의도를 명확하게 밝힌 예시입니다.

### 포맷 명시 여부와 상관없이 toString이 반환한 값에 포함된 정보를 얻어올 수 있는 API를 제공해야 한다.
```java
PhoneNumber jenny = new PhoneNumber(707, 867, 5309);
System.out.println("jenny=" + jenny);
```
- toString을 제대로 재정의했다면 메시지만으로 문제를 진단하기 매우 편해집니다.
- 예시로 `{jenny=PhoneNumber@adbbd}` 같은 메시지보다 `{jenny=707-867-5309}` 메시지가 훨씬 디버깅 하기 편하면 사람이 읽기또한 편합니다.


### 모든 구체 클래스에서 Object의 toString을 재정의 하는것을 권장합니다. toString 을 재정의한 클래스는 사용하기도 즐거우면 클래스를 사용한 시스템을 디버깅 하기 쉽게 해주는 장점도 있습니다.